<Window x:Class="WpfApp1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:h="http://helix-toolkit.org/wpf"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp1"
        xmlns:s3D="http://schemas.abtsoftware.co.uk/scichart3D"
        mc:Ignorable="d"
        Title="3D reconstruction from UAV" Height="478.8" Width="800"
        Icon="BNK48.ico">
    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Header="_New" />
                <MenuItem Header="_Open" Click="OpenMenuItem_Click" />
                <MenuItem Header="_Save" Click="SaveMenuItem_Click" />
                <Separator />
                <MenuItem Header="_Exit" Click="CloseMenuItem_Click" />
            </MenuItem>
            <MenuItem Header="_Test">
                <MenuItem Header="_Tester" Click="Test" />
            </MenuItem>

        </Menu>
        <TabControl SelectionChanged="TabControl_SelectionChanged">
            <TabItem Header="Point Cloud">

                <Grid>
                    <RichTextBox Name="showArea" Margin="0,2,0,3.6" TextChanged="ShowArea_TextChanged" Width="132" HorizontalAlignment="Left">
                        <FlowDocument>
                            <Paragraph>
                                <Run/>
                            </Paragraph>
                        </FlowDocument>
                    </RichTextBox>


                    <Viewport3D Name="mViewport3D" Margin="137,0,48,46.6">
                        <Viewport3D.Camera>
                            <PerspectiveCamera x:Name = "camMain" Position = "6 5 4" LookDirection = "-6 -5 -4">
                            </PerspectiveCamera>
                        </Viewport3D.Camera>

                        <ModelVisual3D>
                            <ModelVisual3D.Content>
                                <DirectionalLight x:Name = "dirLightMain" Direction = "-1,-1,-1">
                                </DirectionalLight>
                            </ModelVisual3D.Content>
                        </ModelVisual3D>
                        <ModelVisual3D x:Name="UIElement3DContainer">
                            <local:Model3DControl />
                            <ModelVisual3D.Transform>
                                <Transform3DGroup >
                                    <Transform3DGroup.Children>
                                        <RotateTransform3D x:Name="myXTransform">
                                            <RotateTransform3D.Rotation >
                                                <AxisAngleRotation3D x:Name = "rotate3" Axis = "0 0 1"/>
                                            </RotateTransform3D.Rotation>
                                        </RotateTransform3D>
                                        <RotateTransform3D x:Name="myYTransform">
                                            <RotateTransform3D.Rotation >
                                                <AxisAngleRotation3D x:Name = "rotate2" Axis = "0 1 0"/>
                                            </RotateTransform3D.Rotation>
                                        </RotateTransform3D>
                                    </Transform3DGroup.Children>
                                </Transform3DGroup>
                            </ModelVisual3D.Transform>
                        </ModelVisual3D>
                        <ModelVisual3D Content = "{Binding myModelVisual3D}"/>
                    </Viewport3D>

                        <!--<s3D:SciChart3DSurface Name="sciChart3DSurface" WorldDimensions="400,0,400">
                            <s3D:SciChart3DSurface.Camera>
                                <s3D:Camera3D Target="0,50,0" Position="-400,200,400"></s3D:Camera3D>
                            </s3D:SciChart3DSurface.Camera>
                            <s3D:SciChart3DSurface.XAxis>
                                <s3D:NumericAxis3D/>
                            </s3D:SciChart3DSurface.XAxis>
                            <s3D:SciChart3DSurface.YAxis>
                                <s3D:NumericAxis3D/>
                            </s3D:SciChart3DSurface.YAxis>
                            <s3D:SciChart3DSurface.ZAxis>
                                <s3D:NumericAxis3D/>
                            </s3D:SciChart3DSurface.ZAxis>
                            <s3D:SciChart3DSurface.ChartModifier>
                                <s3D:ModifierGroup3D>
                                    <s3D:FreeLookModifier3D ExecuteOn="MouseLeftButton" ExecuteWhen="Shift"/>
                                    <s3D:OrbitModifier3D ExecuteOn="MouseLeftButton"/>
                                    <s3D:VertexSelectionModifier3D ExecuteOn="MouseLeftButton" ExecuteWhen="Ctrl"/>
                                    <s3D:MouseWheelZoomModifier3D/>
                                    <s3D:ZoomExtentsModifier3D ResetPosition="-400,200,400" ResetTarget="0,50,0"  AnimateDurationMs="500"/>
                                </s3D:ModifierGroup3D>
                            </s3D:SciChart3DSurface.ChartModifier>
                        </s3D:SciChart3DSurface>-->

                        <!--<Viewport3D Name="viewport3D1">

                        <Viewport3D.Camera>
                            <PerspectiveCamera x:Name = "camMain" Position = "6 5 4" LookDirection = "-6 -5 -4">
                            </PerspectiveCamera>
                        </Viewport3D.Camera>

                        <ModelVisual3D>
                            <ModelVisual3D.Content>
                                <DirectionalLight x:Name = "dirLightMain" Direction = "-1,-1,-1">
                                </DirectionalLight>
                            </ModelVisual3D.Content>
                        </ModelVisual3D>

                        <ModelVisual3D x:Name = "MyModel">
                            <ModelVisual3D.Content>
                                <GeometryModel3D>
                                    --><!--Positions = "0 0 0  1 0 0  0 1 0  1 1 0  0 0 1  1 0 1  0 1 1  0 1 1  1 1 1"--><!--
                                    <GeometryModel3D.Geometry>
                                        <MeshGeometry3D x:Name = "meshMain"
                                            Positions="0 0 0  1 0 0  0 1 0  1 1 0  0 0 1  1 0 1  0 1 1  0 1 1"
                                            Normals="0 0 1  0 0 1  0 0 1  0 0 1"
                                            TextureCoordinates="0 1  1 1  0 0  1 0   "
                                            TriangleIndices="6 6 6  6 3 7  5 6 7  7 4 5  1 2 6  6 5 1  2 1 3  1 0 3  1 5 4  4 0 1  7 3 0  0 4 7">
                                        </MeshGeometry3D>
                                    </GeometryModel3D.Geometry>

                                    <GeometryModel3D.Material>
                                        <DiffuseMaterial x:Name = "matDiffuseMain">
                                            <DiffuseMaterial.Brush>
                                                <SolidColorBrush Color = "Bisque"/>
                                            </DiffuseMaterial.Brush>
                                        </DiffuseMaterial>
                                    </GeometryModel3D.Material>

                                </GeometryModel3D>
                            </ModelVisual3D.Content>

                            <ModelVisual3D.Transform>
                                <Transform3DGroup >
                                    <Transform3DGroup.Children>
                                        <RotateTransform3D x:Name="myXTransform">
                                            <RotateTransform3D.Rotation >
                                                <AxisAngleRotation3D x:Name = "rotate" Axis = "0 0 1"/>
                                            </RotateTransform3D.Rotation>
                                        </RotateTransform3D>
                                        <RotateTransform3D x:Name="myYTransform">
                                            <RotateTransform3D.Rotation >
                                                <AxisAngleRotation3D x:Name = "rotate2" Axis = "0 1 0"/>
                                            </RotateTransform3D.Rotation>
                                        </RotateTransform3D>
                                    </Transform3DGroup.Children>
                                </Transform3DGroup>
                            </ModelVisual3D.Transform>

                        </ModelVisual3D>
                    </Viewport3D>
                    <Slider Height = "32" HorizontalAlignment = "Left"  
                        Margin = "137,332,0,0" Name = "slider1" 
                        VerticalAlignment = "Top" Width = "641"  
                        Maximum = "360" 
                        Value = "{Binding ElementName = rotate, Path=Angle}" />
                    <Slider Height = "32" HorizontalAlignment = "Left"  
                        Margin = "597,151,-136,0" x:Name = "slider1_Copy" 
                        VerticalAlignment = "Top" Width = "327"  
                        Maximum = "360" 
                        Value = "{Binding Angle, ElementName=rotate2}" RenderTransformOrigin="0.5,0.5" >
                        <Slider.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform/>
                                <SkewTransform/>
                                <RotateTransform Angle="269.672"/>
                                <TranslateTransform/>
                            </TransformGroup>
                        </Slider.RenderTransform>
                    </Slider>-->
                    <Slider Height = "32" HorizontalAlignment = "Left"  
                        Margin = "137,367,0,0" Name = "slider1" 
                        VerticalAlignment = "Top" Width = "641"  
                        Maximum = "360" 
                        Value = "{Binding ElementName = rotate3, Path=Angle}" />
                    <Slider Height = "32" HorizontalAlignment = "Left"  
                        Margin = "610,151,-149,0" x:Name = "slider1_Copy" 
                        VerticalAlignment = "Top" Width = "327"  
                        Maximum = "360" 
                        Value = "{Binding Angle, ElementName=rotate2}" RenderTransformOrigin="0.5,0.5" >
                        <Slider.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform/>
                                <SkewTransform/>
                                <RotateTransform Angle="269.672"/>
                                <TranslateTransform/>
                            </TransformGroup>
                        </Slider.RenderTransform>
                    </Slider>
                </Grid>
            </TabItem>
            <TabItem Header="UAV">
                <RichTextBox Name="showArea2" Height="368" Margin="5,2,0,0" VerticalAlignment="Top" Width="778" HorizontalAlignment="Left" TextChanged="ShowArea_TextChanged">
                    <FlowDocument>
                        <Paragraph>
                            <Run/>
                        </Paragraph>
                    </FlowDocument>
                </RichTextBox>
            </TabItem>


        </TabControl>
    </DockPanel>



</Window>
